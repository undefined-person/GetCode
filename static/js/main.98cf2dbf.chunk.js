(this.webpackJsonpgetcode=this.webpackJsonpgetcode||[]).push([[0],{75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),i=n(22),o=n.n(i),s=n(20),u=n(16),d=n(2),l=n(3),j=n(5),p=n(17),b=n(18),x=n(6);!function(e){e.SET_LOADING="SET_LOADING",e.SET_ERROR="SET_ERROR"}(r||(r={}));var h,f={setError:function(e){return{type:r.SET_ERROR,payload:e}},setLoading:function(e){return{type:r.SET_LOADING,payload:e}}},g=n(7),O=n.n(g),m=n(13),v=n(39),y=n.n(v).a.create({baseURL:"https://dev.nowdialogue.com/api/"});!function(e){e.SET_USER="SET_USER",e.SET_AUTH="SET_AUTH"}(h||(h={}));var E,w={setUser:function(e){return{type:h.SET_USER,payload:e}},setAuth:function(e){return{type:h.SET_AUTH,payload:e}},login:function(e,t){return function(){var n=Object(m.a)(O.a.mark((function n(r){var a,c;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(f.setLoading(!0)),n.next=4,y.post("auth/login",{email:e,password:t}).then((function(e){return e.data.accessToken}));case 4:return a=n.sent,n.next=7,y.get("merchant/profile",{headers:{Authorization:"Bearer "+a}}).then((function(e){return e.data}));case 7:c=n.sent,r(w.setUser(c)),localStorage.setItem("token",JSON.stringify(a)),localStorage.setItem("username",c.username),r(w.setAuth(!0)),r(f.setLoading(!1)),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),r(f.setError(n.t0));case 18:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e){return n.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(m.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(f.setLoading(!0)),localStorage.removeItem("token"),localStorage.removeItem("username"),t(w.setUser({})),t(w.setAuth(!1)),t(f.setLoading(!1))}catch(n){t(f.setError(n))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},getUserInfo:function(){return function(){var e=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get("merchant/profile",{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token")||"")}}).then((function(e){return e.data}));case 3:n=e.sent,t(w.setUser(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(f.setError(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}};!function(e){e.SET_WIDGET="SET_WIDGET",e.CREATE_WIDGET="CREATE_WIDGET"}(E||(E={}));var S,k,T,_,I,L,A,R,W,U,C,D,z,G,N,J,B,F,q,H,M,P,Z,K,Q,V,X,Y,$,ee={setWidget:function(e){return{type:E.SET_WIDGET,payload:e}},createWidget:function(e){return{type:E.CREATE_WIDGET,payload:e}},getWidget:function(){return function(){var e=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(f.setLoading(!0)),e.next=4,y.get("merchant/widgets",{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token")||"")}}).then((function(e){return e.data}));case 4:n=e.sent,t(ee.setWidget(n)),t(f.setLoading(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(f.setError(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},create:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(f.setLoading(!0)),t.next=4,y.post("merchant/widgets/feed/save",{name:e,lang:"en",template_type:"booster"},{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token")||"")}}).then((function(e){return e.data}));case 4:r=t.sent,n(ee.createWidget(r)),n(f.setLoading(!1)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(f.setError(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},dublicateWidget:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(f.setLoading(!0)),t.next=4,y.get("merchant/widgets/feed/duplicate/".concat(e),{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token")||"")}}).then((function(e){return e.data}));case 4:r=t.sent,n(ee.createWidget(r)),n(f.setLoading(!1)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(f.setError(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},deleteWidget:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(f.setLoading(!0)),t.next=4,y.delete("merchant/widgets/feed/delete/".concat(e),{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token")||"")}}).then((function(e){return e.data}));case 4:r=t.sent,n(ee.setWidget(r)),n(f.setLoading(!1)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(f.setError(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},editWidget:function(e,t){return function(){var n=Object(m.a)(O.a.mark((function n(r){var a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(f.setLoading(!0)),n.next=4,y.post("https://dev.nowdialogue.com/api/merchant/widgets/feed/save",{name:t,lang:"en",template_type:"booster",id:e},{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token")||"")}}).then((function(e){return e.data}));case 4:a=n.sent,r(ee.createWidget(a)),r(f.setLoading(!1)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r(f.setError(n.t0));case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}},te=Object(x.a)(Object(x.a)(Object(x.a)({},w),ee),f),ne=function(){var e=Object(s.b)();return Object(b.bindActionCreators)(te,e)},re=s.c,ae=n(1),ce=function(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),n=t[0],r=t[1],c=re((function(e){return e.auth})).user,i=ne().logout,o=Object(a.useRef)(),s=function(e){o.current&&!o.current.contains(e.target)&&r(!1)};return Object(a.useEffect)((function(){return document.addEventListener("click",s),function(){document.removeEventListener("click",s)}}),[n]),Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsxs)(ie,{onClick:function(e){return e.stopPropagation()},children:[Object(ae.jsx)(u.b,{to:"/",style:{textDecoration:"none"},children:Object(ae.jsx)(se,{children:"Widgets"})}),Object(ae.jsx)(u.b,{to:"/store",style:{textDecoration:"none"},children:Object(ae.jsx)(ue,{children:"Shops"})}),Object(ae.jsxs)(oe,{ref:o,onClick:function(){return r(!n)},children:[c.username,n&&Object(ae.jsxs)(de,{children:[Object(ae.jsx)(u.b,{to:"/profile",style:{textDecoration:"none"},children:Object(ae.jsx)(le,{children:"Edit profile"})}),Object(ae.jsx)(le,{onClick:i,children:"Log out"})]})]})]})})},ie=l.a.header(S||(S=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 50px;\n  padding: 0 20px;\n  font-size: 18px;\n  background-color: #202c39;\n"]))),oe=l.a.div(k||(k=Object(d.a)(["\n  position: relative;\n  cursor: pointer;\n"]))),se=l.a.div(T||(T=Object(d.a)([""]))),ue=l.a.div(_||(_=Object(d.a)([""]))),de=l.a.div(I||(I=Object(d.a)(["\n  position: absolute;\n  right: 0;\n  width: 100px;\n  background-color: #202c39;\n  padding: 5px;\n"]))),le=l.a.div(L||(L=Object(d.a)(["\n  padding: 5px;\n"]))),je=function(){return Object(ae.jsx)(pe,{children:Object(ae.jsx)(be,{})})},pe=l.a.div(A||(A=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n"]))),be=l.a.div(R||(R=Object(d.a)(["\n  display: inline-block;\n  width: 80px;\n  height: 80px;\n  &:after {\n    content: ' ';\n    display: block;\n    width: 64px;\n    height: 64px;\n    margin: 8px;\n    border-radius: 50%;\n    border: 6px solid #202c39;\n    border-color: #202c39 transparent #202c39 transparent;\n    animation: lds-dual-ring 1.2s linear infinite;\n  }\n"]))),xe=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(p.a)(c,2),o=i[0],s=i[1],u=ne().login;return Object(ae.jsx)(he,{children:Object(ae.jsxs)(Oe,{children:[Object(ae.jsx)(fe,{children:"Log in"}),Object(ae.jsx)(ge,{children:"Email"}),Object(ae.jsx)(me,{type:"email",value:n,onChange:function(e){return function(e){r(e.currentTarget.value)}(e)}}),Object(ae.jsx)(ge,{children:"Password"}),Object(ae.jsx)(me,{type:"password",value:o,onChange:function(e){return function(e){s(e.currentTarget.value)}(e)}}),Object(ae.jsx)(ve,{onClick:function(){u(n,o)},children:"Continue"})]})})},he=l.a.div(W||(W=Object(d.a)(["\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),fe=l.a.h2(U||(U=Object(d.a)(["\n  font-size: 25px;\n  text-align: center;\n  margin: 0;\n  color: #202c39;\n"]))),ge=l.a.h3(C||(C=Object(d.a)(["\n  text-align: left;\n  font-size: 15px;\n  color: #202c39;\n"]))),Oe=l.a.div(D||(D=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  width: 400px;\n  padding: 40px;\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.6);\n  border-radius: 10px;\n"]))),me=l.a.input(z||(z=Object(d.a)(["\n  width: 100%;\n  border: none;\n  outline: none;\n  color: #202c39;\n  border-bottom: 1px solid #202c39;\n  padding: 5px;\n  margin-bottom: 5px;\n  &:focus {\n    border-bottom: 1px solid #6f8eae;\n  }\n"]))),ve=l.a.div(G||(G=Object(d.a)(["\n  background-color: #202c39;\n  color: #fff;\n  padding: 10px;\n  width: 100px;\n  text-align: center;\n  margin: 10px auto 0;\n  border-radius: 6px;\n  cursor: pointer;\n"]))),ye=function(){var e=ne().getUserInfo,t=re((function(e){return e.auth})).user;return Object(a.useEffect)((function(){e()}),[]),Object(ae.jsxs)(Ee,{children:[Object(ae.jsx)(we,{children:"Profile edit"}),Object(ae.jsx)(Se,{children:" Username "}),Object(ae.jsx)(ke,{name:"username",required:!0,value:t.username}),Object(ae.jsx)(Se,{children:" Firstname "}),Object(ae.jsx)(ke,{name:"first_name",required:!0,value:t.first_name}),Object(ae.jsx)(Se,{children:" Lastname "}),Object(ae.jsx)(ke,{name:"last_name",required:!0,value:t.last_name}),Object(ae.jsx)(Se,{children:" Email "}),Object(ae.jsx)(ke,{type:"email",name:"email",required:!0,value:t.email}),Object(ae.jsx)(Se,{children:" Country code "}),Object(ae.jsx)(ke,{name:"country_code",value:t.country_code}),Object(ae.jsx)(Se,{children:" State "}),Object(ae.jsx)(ke,{name:"state",value:t.state}),Object(ae.jsx)(Se,{children:" Address "}),Object(ae.jsx)(ke,{name:"address",value:t.address}),Object(ae.jsx)(Se,{children:" Zip "}),Object(ae.jsx)(ke,{name:"zip",value:t.zip}),Object(ae.jsx)(Se,{children:" Phone "}),Object(ae.jsx)(ke,{name:"phone",value:t.phone}),Object(ae.jsx)(Se,{children:" City "}),Object(ae.jsx)(ke,{name:"city",value:t.city}),Object(ae.jsx)(Te,{children:"Save changes"})]})},Ee=l.a.div(N||(N=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  width: 500px;\n"]))),we=l.a.h2(J||(J=Object(d.a)(["\n  color: #202c39;\n  text-align: center;\n  margin: 10px 0;\n"]))),Se=l.a.h3(B||(B=Object(d.a)(["\n  color: #202c39;\n"]))),ke=l.a.input(F||(F=Object(d.a)(["\n  width: 100%;\n  border: none;\n  outline: none;\n  color: #202c39;\n  border-bottom: 1px solid #202c39;\n  padding: 5px;\n  margin-bottom: 5px;\n  &:focus {\n    border-bottom: 1px solid #6f8eae;\n  }\n"]))),Te=l.a.div(q||(q=Object(d.a)(["\n  background-color: #202c39;\n  color: #fff;\n  padding: 10px;\n  width: 100px;\n  text-align: center;\n  margin: 10px auto 0;\n  border-radius: 6px;\n  cursor: pointer;\n"]))),_e=function(){var e=ne(),t=e.getWidget,n=e.create,r=e.dublicateWidget,c=e.deleteWidget,i=(e.getUserInfo,re((function(e){return e.widget})).widget),o=Object(a.useState)(""),s=Object(p.a)(o,2),u=s[0],d=s[1];Object(a.useEffect)((function(){t()}),[]);return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)(Re,{children:[Object(ae.jsx)(We,{value:u,onChange:function(e){return function(e){d(e.currentTarget.value)}(e)}}),Object(ae.jsx)(Ae,{disabled:!u,onClick:function(){return n(u),void d("")},children:"Create widget"})]}),Object(ae.jsx)(Ie,{children:i.map((function(e){return Object(ae.jsxs)(Le,{children:[e.name,Object(ae.jsxs)(Ue,{children:[Object(ae.jsx)(Ae,{onClick:function(){return c(e.id)},children:"Delete"})," ",Object(ae.jsx)(Ae,{onClick:function(){return r(e.id)},children:"Dublicate"})," ",Object(ae.jsx)(Ae,{children:"Edit"})]})]},e.id)}))})]})},Ie=l.a.div(H||(H=Object(d.a)(["\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  gap: 1em;\n  margin-top: 15px;\n  padding-bottom: 30px;\n"]))),Le=l.a.div(M||(M=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  width: 45%;\n  padding: 20px;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.6);\n  border-radius: 10px;\n  color: #202c39;\n"]))),Ae=l.a.button(P||(P=Object(d.a)(["\n  background-color: #202c39;\n  color: #fff;\n  font-size: 16px;\n  padding: 10px;\n  text-align: center;\n  border-radius: 6px;\n  border: none;\n  margin-right: 5px;\n"]))),Re=l.a.div(Z||(Z=Object(d.a)(["\n  display: flex;\n  margin-top: 15px;\n  align-items: center;\n"]))),We=l.a.input(K||(K=Object(d.a)(["\n  border: none;\n  outline: none;\n  color: #202c39;\n  margin-right: 15px;\n  border-bottom: 1px solid #202c39;\n  padding: 5px;\n  &:focus {\n    border-bottom: 1px solid #6f8eae;\n  }\n"]))),Ue=l.a.div(Q||(Q=Object(d.a)(["\n  display: flex;\n  margin-left: auto;\n  align-items: center;\n"]))),Ce=function(){var e=ne().getUserInfo,t=re((function(e){return e.auth})).user;return Object(a.useEffect)((function(){e()}),[]),Object(ae.jsx)(De,{children:t.stores.filter((function(e){return e.is_selected})).map((function(e){return Object(ae.jsxs)(ze,{children:[Object(ae.jsxs)(Ge,{children:["Name: ",e.name]}),Object(ae.jsxs)(Ge,{children:["URL: ",e.url]}),Object(ae.jsxs)(Ge,{children:["Tags: ",e.custom_tags]}),Object(ae.jsxs)(Ge,{children:["Monthly views: ",e.monthly_views]}),Object(ae.jsxs)(Ge,{children:["Monthly visitors: ",e.monthly_visitors]})]},e.id)}))})},De=l.a.div(V||(V=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 15px;\n"]))),ze=l.a.div(X||(X=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding: 20px;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.6);\n  border-radius: 10px;\n"]))),Ge=l.a.div(Y||(Y=Object(d.a)(["\n  color: #202c39;\n"]))),Ne=function(){var e=re((function(e){return e.auth})).isAuth,t=re((function(e){return e.app})),n=t.isLoading,r=t.error,c=ne(),i=c.setAuth,o=c.setUser;return Object(a.useEffect)((function(){localStorage.getItem("token")&&(o({username:localStorage.getItem("username")||""}),i(!0))}),[]),Object(ae.jsxs)(ae.Fragment,{children:[r&&alert(r),n&&Object(ae.jsx)(je,{}),e?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(ce,{}),Object(ae.jsxs)(Je,{children:[Object(ae.jsx)(j.c,{}),Object(ae.jsx)(j.a,{path:"/profile",exact:!0,children:Object(ae.jsx)(ye,{})}),Object(ae.jsx)(j.a,{path:"/store",exact:!0,children:Object(ae.jsx)(Ce,{})}),Object(ae.jsx)(j.a,{path:"/",exact:!0,children:Object(ae.jsx)(_e,{})})]})]}):Object(ae.jsx)(Je,{children:Object(ae.jsx)(xe,{})})]})},Je=l.a.div($||($=Object(d.a)(["\n  max-width: 1300px;\n  margin: 0 auto;\n"]))),Be=n(44),Fe=n(45),qe={isAuth:!1,user:{}},He=n(28),Me={widget:[]},Pe={error:"",isLoading:!1},Ze=Object(b.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.SET_USER:return Object(x.a)(Object(x.a)({},e),{},{user:t.payload});case h.SET_AUTH:return Object(x.a)(Object(x.a)({},e),{},{isAuth:t.payload});default:return e}},widget:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.SET_WIDGET:return Object(x.a)(Object(x.a)({},e),{},{widget:Object(He.a)(t.payload)});case E.CREATE_WIDGET:return Object(x.a)(Object(x.a)({},e),{},{widget:[].concat(Object(He.a)(e.widget),[t.payload])});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_LOADING:return Object(x.a)(Object(x.a)({},e),{},{isLoading:t.payload});case r.SET_ERROR:return Object(x.a)(Object(x.a)({},e),{},{error:t.payload});default:return e}}}),Ke=Object(b.createStore)(Ze,Object(Fe.composeWithDevTools)(Object(b.applyMiddleware)(Be.a)));n(75);o.a.render(Object(ae.jsx)(c.a.StrictMode,{children:Object(ae.jsx)(s.a,{store:Ke,children:Object(ae.jsx)(u.a,{children:Object(ae.jsx)(Ne,{})})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.98cf2dbf.chunk.js.map
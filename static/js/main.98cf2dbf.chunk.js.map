{"version":3,"sources":["redux/reducers/app/types.ts","redux/reducers/app/action-creators.ts","redux/reducers/auth/types.ts","api/apiInstance.ts","redux/reducers/auth/action-creators.ts","redux/reducers/widget/types.ts","redux/reducers/widget/action-creators.ts","redux/reducers/allActionCreators.ts","hooks/useActions.ts","hooks/useTypedSelector.ts","components/Header/Header.tsx","components/Loader/Loader.tsx","pages/Login/Login.tsx","pages/Profile/Profile.tsx","pages/Home/Home.tsx","pages/Store/Store.tsx","App.tsx","redux/reducers/auth/auth.ts","redux/reducers/widget/widget.ts","redux/reducers/app/app.ts","redux/store.ts","index.tsx"],"names":["AppActionsTypes","AuthActionsTypes","AppActionsCreators","setError","error","type","SET_ERROR","payload","setLoading","loading","SET_LOADING","instance","axios","create","baseURL","WidgetActionsTypes","AuthActionsCreators","setUser","user","SET_USER","setAuth","isAuth","SET_AUTH","login","email","password","dispatch","a","post","then","res","data","accessToken","get","headers","Authorization","localStorage","setItem","JSON","stringify","username","logout","removeItem","getUserInfo","parse","getItem","WidgetActionsCreators","setWidget","widget","SET_WIDGET","createWidget","CREATE_WIDGET","getWidget","name","lang","template_type","dublicateWidget","id","deleteWidget","delete","editWidget","allActionCreators","useActions","useDispatch","bindActionCreators","useTypedSelector","useSelector","Header","useState","isVisible","setIsVisible","state","auth","profileRef","useRef","handleOutsideClick","e","current","contains","target","useEffect","document","addEventListener","removeEventListener","HeaderContainer","onClick","stopPropagation","to","style","textDecoration","Widgets","Shops","ProfileBtn","ref","Dropdown","DropdownChild","styled","header","div","Loader","LoaderContainer","LoaderContent","Login","setEmail","setPassword","LoginContainer","Form","LoginTitle","Placeholder","Input","value","onChange","currentTarget","handleEmail","handlePassword","LoginButton","h2","h3","input","Profile","ProfileContainer","ProfileTitle","ProfilePlaceholder","ProfileInput","required","first_name","last_name","country_code","address","zip","phone","city","UpdateProfile","Home","widgetName","setWidgetName","WidgetCreateContainer","WidgetInput","handleWidgetName","WidgetBtn","disabled","HomeContainer","map","w","Widget","WidgetBtns","button","Store","StoreContainer","stores","filter","store","is_selected","StoreCard","StoreCardItem","url","custom_tags","monthly_views","monthly_visitors","App","app","isLoading","alert","Container","path","exact","initialState","rootReducer","combineReducers","action","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.98cf2dbf.chunk.js","sourcesContent":["export interface AppState {\r\n  isLoading: boolean\r\n  error: string\r\n}\r\n\r\nexport enum AppActionsTypes {\r\n  SET_LOADING = 'SET_LOADING',\r\n  SET_ERROR = 'SET_ERROR',\r\n}\r\n\r\nexport interface SetLoadingAction {\r\n  type: AppActionsTypes.SET_LOADING\r\n  payload: boolean\r\n}\r\n\r\nexport interface SetErrorAction {\r\n  type: AppActionsTypes.SET_ERROR\r\n  payload: string\r\n}\r\n\r\nexport type AppAction = SetErrorAction | SetLoadingAction\r\n","import { AppActionsTypes, SetErrorAction, SetLoadingAction } from './types'\r\n\r\nexport const AppActionsCreators = {\r\n  setError: (error: string): SetErrorAction => ({ type: AppActionsTypes.SET_ERROR, payload: error }),\r\n  setLoading: (loading: boolean): SetLoadingAction => ({ type: AppActionsTypes.SET_LOADING, payload: loading }),\r\n}\r\n","import { IUser } from '../../../models/IUser'\r\n\r\nexport interface AuthState {\r\n  user: IUser\r\n  isAuth: boolean\r\n}\r\n\r\nexport enum AuthActionsTypes {\r\n  SET_USER = 'SET_USER',\r\n  SET_AUTH = 'SET_AUTH',\r\n}\r\n\r\nexport interface SetUserAction {\r\n  type: AuthActionsTypes.SET_USER\r\n  payload: IUser\r\n}\r\n\r\nexport interface SetAuthAction {\r\n  type: AuthActionsTypes.SET_AUTH\r\n  payload: boolean\r\n}\r\n\r\nexport type AuthAction = SetUserAction | SetAuthAction\r\n","import axios from 'axios'\r\n\r\nexport const instance = axios.create({\r\n  baseURL: 'https://dev.nowdialogue.com/api/',\r\n})\r\n","import { AppActionsCreators } from './../app/action-creators'\r\nimport { instance } from '../../../api/apiInstance'\r\nimport { IUser } from '../../../models/IUser'\r\nimport { AppDispatch } from '../../store'\r\nimport { AuthActionsTypes, SetAuthAction, SetUserAction } from './types'\r\n\r\nexport const AuthActionsCreators = {\r\n  setUser: (user: IUser): SetUserAction => ({ type: AuthActionsTypes.SET_USER, payload: user }),\r\n  setAuth: (isAuth: boolean): SetAuthAction => ({ type: AuthActionsTypes.SET_AUTH, payload: isAuth }),\r\n  login: (email: string, password: string) => async (dispatch: AppDispatch) => {\r\n    try {\r\n      dispatch(AppActionsCreators.setLoading(true))\r\n      const accessToken = await instance.post('auth/login', { email, password }).then(res => res.data.accessToken)\r\n      const user = await instance.get('merchant/profile', { headers: { Authorization: 'Bearer ' + accessToken } }).then(res => res.data)\r\n      dispatch(AuthActionsCreators.setUser(user))\r\n      localStorage.setItem('token', JSON.stringify(accessToken))\r\n      localStorage.setItem('username', user.username)\r\n      dispatch(AuthActionsCreators.setAuth(true))\r\n      dispatch(AppActionsCreators.setLoading(false))\r\n    } catch (error) {\r\n      dispatch(AppActionsCreators.setError(error as string))\r\n    }\r\n  },\r\n  logout: () => async (dispatch: AppDispatch) => {\r\n    try {\r\n      dispatch(AppActionsCreators.setLoading(true))\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('username')\r\n      dispatch(AuthActionsCreators.setUser({} as IUser))\r\n      dispatch(AuthActionsCreators.setAuth(false))\r\n      dispatch(AppActionsCreators.setLoading(false))\r\n    } catch (error) {\r\n      dispatch(AppActionsCreators.setError(error as string))\r\n    }\r\n  },\r\n  getUserInfo: () => async (dispatch: AppDispatch) => {\r\n    try {\r\n      const user = await instance.get('merchant/profile', { headers: { Authorization: 'Bearer ' + JSON.parse(localStorage.getItem('token') || '') } }).then(res => res.data)\r\n      dispatch(AuthActionsCreators.setUser(user))\r\n    } catch (error) {\r\n      dispatch(AppActionsCreators.setError(error as string))\r\n    }\r\n  },\r\n}\r\n","import { IWidget } from '../../../models/IWidget'\r\n\r\nexport interface WidgetState {\r\n  widget: Array<IWidget>\r\n}\r\n\r\nexport enum WidgetActionsTypes {\r\n  SET_WIDGET = 'SET_WIDGET',\r\n  CREATE_WIDGET = 'CREATE_WIDGET',\r\n}\r\n\r\nexport interface CreateWidgetAction {\r\n  type: WidgetActionsTypes.CREATE_WIDGET\r\n  payload: IWidget\r\n}\r\n\r\nexport interface SetWidgetAction {\r\n  type: WidgetActionsTypes.SET_WIDGET\r\n  payload: Array<IWidget>\r\n}\r\n\r\nexport type WidgetAction = CreateWidgetAction | SetWidgetAction\r\n","import { instance } from '../../../api/apiInstance'\r\nimport { IWidget } from '../../../models/IWidget'\r\nimport { AppDispatch } from '../../store'\r\nimport { AppActionsCreators } from '../app/action-creators'\r\nimport { CreateWidgetAction, SetWidgetAction, WidgetActionsTypes } from './types'\r\n\r\nexport const WidgetActionsCreators = {\r\n  setWidget: (widget: Array<IWidget>): SetWidgetAction => ({ type: WidgetActionsTypes.SET_WIDGET, payload: widget }),\r\n  createWidget: (widget: IWidget): CreateWidgetAction => ({ type: WidgetActionsTypes.CREATE_WIDGET, payload: widget }),\r\n  getWidget: () => async (dispatch: AppDispatch) => {\r\n    try {\r\n      dispatch(AppActionsCreators.setLoading(true))\r\n      const widget = await instance.get('merchant/widgets', { headers: { Authorization: 'Bearer ' + JSON.parse(localStorage.getItem('token') || '') } }).then(res => res.data)\r\n      dispatch(WidgetActionsCreators.setWidget(widget))\r\n      dispatch(AppActionsCreators.setLoading(false))\r\n    } catch (error) {\r\n      dispatch(AppActionsCreators.setError(error as string))\r\n    }\r\n  },\r\n  create: (name: string) => async (dispatch: AppDispatch) => {\r\n    try {\r\n      dispatch(AppActionsCreators.setLoading(true))\r\n      const widget = await instance.post('merchant/widgets/feed/save', { name, lang: 'en', template_type: 'booster' }, { headers: { Authorization: 'Bearer ' + JSON.parse(localStorage.getItem('token') || '') } }).then(res => res.data)\r\n      dispatch(WidgetActionsCreators.createWidget(widget))\r\n      dispatch(AppActionsCreators.setLoading(false))\r\n    } catch (error) {\r\n      dispatch(AppActionsCreators.setError(error as string))\r\n    }\r\n  },\r\n  dublicateWidget: (id: number) => async (dispatch: AppDispatch) => {\r\n    try {\r\n      dispatch(AppActionsCreators.setLoading(true))\r\n      const widget = await instance.get(`merchant/widgets/feed/duplicate/${id}`, { headers: { Authorization: 'Bearer ' + JSON.parse(localStorage.getItem('token') || '') } }).then(res => res.data)\r\n      dispatch(WidgetActionsCreators.createWidget(widget))\r\n      dispatch(AppActionsCreators.setLoading(false))\r\n    } catch (error) {\r\n      dispatch(AppActionsCreators.setError(error as string))\r\n    }\r\n  },\r\n  deleteWidget: (id: number) => async (dispatch: AppDispatch) => {\r\n    try {\r\n      dispatch(AppActionsCreators.setLoading(true))\r\n      const widget = await instance.delete(`merchant/widgets/feed/delete/${id}`, { headers: { Authorization: 'Bearer ' + JSON.parse(localStorage.getItem('token') || '') } }).then(res => res.data)\r\n      dispatch(WidgetActionsCreators.setWidget(widget))\r\n      dispatch(AppActionsCreators.setLoading(false))\r\n    } catch (error) {\r\n      dispatch(AppActionsCreators.setError(error as string))\r\n    }\r\n  },\r\n  editWidget: (id: number, name: string) => async (dispatch: AppDispatch) => {\r\n    try {\r\n      dispatch(AppActionsCreators.setLoading(true))\r\n      const widget = await instance\r\n        .post(`https://dev.nowdialogue.com/api/merchant/widgets/feed/save`, { name, lang: 'en', template_type: 'booster', id }, { headers: { Authorization: 'Bearer ' + JSON.parse(localStorage.getItem('token') || '') } })\r\n        .then(res => res.data)\r\n      dispatch(WidgetActionsCreators.createWidget(widget))\r\n      dispatch(AppActionsCreators.setLoading(false))\r\n    } catch (error) {\r\n      dispatch(AppActionsCreators.setError(error as string))\r\n    }\r\n  },\r\n}\r\n","import { AppActionsCreators } from './app/action-creators'\r\nimport { AuthActionsCreators } from './auth/action-creators'\r\nimport { WidgetActionsCreators } from './widget/action-creators'\r\n\r\nexport const allActionCreators = {\r\n  ...AuthActionsCreators,\r\n  ...WidgetActionsCreators,\r\n  ...AppActionsCreators,\r\n}\r\n","import { useDispatch } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport { allActionCreators } from '../redux/reducers/allActionCreators'\r\n\r\nexport const useActions = () => {\r\n  const dispatch = useDispatch()\r\n  return bindActionCreators(allActionCreators, dispatch)\r\n}\r\n","import { TypedUseSelectorHook, useSelector } from 'react-redux'\r\n\r\nimport { RootState } from '../redux/store'\r\n\r\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { useActions } from '../../hooks/useActions'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\n\r\nconst Header = () => {\r\n  const [isVisible, setIsVisible] = useState(false)\r\n  const { user } = useTypedSelector(state => state.auth)\r\n  const { logout } = useActions()\r\n\r\n  const profileRef = useRef() as React.MutableRefObject<HTMLDivElement>\r\n\r\n  const handleOutsideClick = (e: any) => {\r\n    if (profileRef.current && !profileRef.current.contains(e.target)) {\r\n      setIsVisible(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', handleOutsideClick)\r\n\r\n    return () => {\r\n      document.removeEventListener('click', handleOutsideClick)\r\n    }\r\n  }, [isVisible])\r\n\r\n  return (\r\n    <>\r\n      <HeaderContainer onClick={e => e.stopPropagation()}>\r\n        <Link to=\"/\" style={{ textDecoration: 'none' }}>\r\n          <Widgets>Widgets</Widgets>\r\n        </Link>\r\n        <Link to=\"/store\" style={{ textDecoration: 'none' }}>\r\n          <Shops>Shops</Shops>\r\n        </Link>\r\n        <ProfileBtn ref={profileRef} onClick={() => setIsVisible(!isVisible)}>\r\n          {user.username}\r\n          {isVisible && (\r\n            <Dropdown>\r\n              <Link to=\"/profile\" style={{ textDecoration: 'none' }}>\r\n                <DropdownChild>Edit profile</DropdownChild>\r\n              </Link>\r\n              <DropdownChild onClick={logout}>Log out</DropdownChild>\r\n            </Dropdown>\r\n          )}\r\n        </ProfileBtn>\r\n      </HeaderContainer>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Header\r\n\r\nconst HeaderContainer = styled.header`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: 50px;\r\n  padding: 0 20px;\r\n  font-size: 18px;\r\n  background-color: #202c39;\r\n`\r\nconst ProfileBtn = styled.div`\r\n  position: relative;\r\n  cursor: pointer;\r\n`\r\nconst Widgets = styled.div``\r\n\r\nconst Shops = styled.div``\r\n\r\nconst Dropdown = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  width: 100px;\r\n  background-color: #202c39;\r\n  padding: 5px;\r\n`\r\n\r\nconst DropdownChild = styled.div`\r\n  padding: 5px;\r\n`\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <LoaderContainer>\r\n      <LoaderContent />\r\n    </LoaderContainer>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n\r\nconst LoaderContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n`\r\n\r\nconst LoaderContent = styled.div`\r\n  display: inline-block;\r\n  width: 80px;\r\n  height: 80px;\r\n  &:after {\r\n    content: ' ';\r\n    display: block;\r\n    width: 64px;\r\n    height: 64px;\r\n    margin: 8px;\r\n    border-radius: 50%;\r\n    border: 6px solid #202c39;\r\n    border-color: #202c39 transparent #202c39 transparent;\r\n    animation: lds-dual-ring 1.2s linear infinite;\r\n  }\r\n`\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { useActions } from '../../hooks/useActions'\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState<string>('')\r\n  const [password, setPassword] = useState<string>('')\r\n  const { login } = useActions()\r\n\r\n  const handleEmail = (e: React.FormEvent<HTMLInputElement>) => {\r\n    setEmail(e.currentTarget.value)\r\n  }\r\n\r\n  const handlePassword = (e: React.FormEvent<HTMLInputElement>) => {\r\n    setPassword(e.currentTarget.value)\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n    login(email, password)\r\n  }\r\n  return (\r\n    <LoginContainer>\r\n      <Form>\r\n        <LoginTitle>Log in</LoginTitle>\r\n        <Placeholder>Email</Placeholder>\r\n        <Input type=\"email\" value={email} onChange={e => handleEmail(e)} />\r\n        <Placeholder>Password</Placeholder>\r\n        <Input type=\"password\" value={password} onChange={e => handlePassword(e)} />\r\n        <LoginButton onClick={handleSubmit}>Continue</LoginButton>\r\n      </Form>\r\n    </LoginContainer>\r\n  )\r\n}\r\n\r\nexport default Login\r\n\r\nconst LoginContainer = styled.div`\r\n  min-height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\nconst LoginTitle = styled.h2`\r\n  font-size: 25px;\r\n  text-align: center;\r\n  margin: 0;\r\n  color: #202c39;\r\n`\r\n\r\nconst Placeholder = styled.h3`\r\n  text-align: left;\r\n  font-size: 15px;\r\n  color: #202c39;\r\n`\r\n\r\nconst Form = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 0 auto;\r\n  width: 400px;\r\n  padding: 40px;\r\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.6);\r\n  border-radius: 10px;\r\n`\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  border: none;\r\n  outline: none;\r\n  color: #202c39;\r\n  border-bottom: 1px solid #202c39;\r\n  padding: 5px;\r\n  margin-bottom: 5px;\r\n  &:focus {\r\n    border-bottom: 1px solid #6f8eae;\r\n  }\r\n`\r\nconst LoginButton = styled.div`\r\n  background-color: #202c39;\r\n  color: #fff;\r\n  padding: 10px;\r\n  width: 100px;\r\n  text-align: center;\r\n  margin: 10px auto 0;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n`\r\n","import React, { useEffect } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { useActions } from '../../hooks/useActions'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\n\r\nconst Profile = () => {\r\n  const { getUserInfo } = useActions()\r\n  const { user } = useTypedSelector(state => state.auth)\r\n\r\n  useEffect(() => {\r\n    getUserInfo()\r\n  }, [])\r\n\r\n  return (\r\n    <ProfileContainer>\r\n      <ProfileTitle>Profile edit</ProfileTitle>\r\n\r\n      <ProfilePlaceholder> Username </ProfilePlaceholder>\r\n      <ProfileInput name=\"username\" required value={user.username} />\r\n\r\n      <ProfilePlaceholder> Firstname </ProfilePlaceholder>\r\n      <ProfileInput name=\"first_name\" required value={user.first_name} />\r\n\r\n      <ProfilePlaceholder> Lastname </ProfilePlaceholder>\r\n      <ProfileInput name=\"last_name\" required value={user.last_name} />\r\n\r\n      <ProfilePlaceholder> Email </ProfilePlaceholder>\r\n      <ProfileInput type=\"email\" name=\"email\" required value={user.email} />\r\n\r\n      <ProfilePlaceholder> Country code </ProfilePlaceholder>\r\n      <ProfileInput name=\"country_code\" value={user.country_code} />\r\n\r\n      <ProfilePlaceholder> State </ProfilePlaceholder>\r\n      <ProfileInput name=\"state\" value={user.state} />\r\n\r\n      <ProfilePlaceholder> Address </ProfilePlaceholder>\r\n      <ProfileInput name=\"address\" value={user.address} />\r\n\r\n      <ProfilePlaceholder> Zip </ProfilePlaceholder>\r\n      <ProfileInput name=\"zip\" value={user.zip} />\r\n\r\n      <ProfilePlaceholder> Phone </ProfilePlaceholder>\r\n      <ProfileInput name=\"phone\" value={user.phone} />\r\n\r\n      <ProfilePlaceholder> City </ProfilePlaceholder>\r\n      <ProfileInput name=\"city\" value={user.city} />\r\n      <UpdateProfile>Save changes</UpdateProfile>\r\n    </ProfileContainer>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n\r\nconst ProfileContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 0 auto;\r\n  width: 500px;\r\n`\r\n\r\nconst ProfileTitle = styled.h2`\r\n  color: #202c39;\r\n  text-align: center;\r\n  margin: 10px 0;\r\n`\r\n\r\nconst ProfilePlaceholder = styled.h3`\r\n  color: #202c39;\r\n`\r\n\r\nconst ProfileInput = styled.input`\r\n  width: 100%;\r\n  border: none;\r\n  outline: none;\r\n  color: #202c39;\r\n  border-bottom: 1px solid #202c39;\r\n  padding: 5px;\r\n  margin-bottom: 5px;\r\n  &:focus {\r\n    border-bottom: 1px solid #6f8eae;\r\n  }\r\n`\r\n\r\nconst UpdateProfile = styled.div`\r\n  background-color: #202c39;\r\n  color: #fff;\r\n  padding: 10px;\r\n  width: 100px;\r\n  text-align: center;\r\n  margin: 10px auto 0;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n`\r\n","import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { useActions } from '../../hooks/useActions'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\n\r\nconst Home = () => {\r\n  const { getWidget, create, dublicateWidget, deleteWidget, getUserInfo } = useActions()\r\n  const { widget } = useTypedSelector(state => state.widget)\r\n  const [widgetName, setWidgetName] = useState<string>('')\r\n\r\n  useEffect(() => {\r\n    getWidget()\r\n  }, [])\r\n\r\n  const handleWidgetName = (e: React.FormEvent<HTMLInputElement>) => {\r\n    setWidgetName(e.currentTarget.value)\r\n  }\r\n\r\n  const handleCreateName = () => {\r\n    create(widgetName)\r\n    setWidgetName('')\r\n  }\r\n  return (\r\n    <>\r\n      <WidgetCreateContainer>\r\n        <WidgetInput value={widgetName} onChange={e => handleWidgetName(e)} />\r\n        <WidgetBtn disabled={!widgetName} onClick={() => handleCreateName()}>\r\n          Create widget\r\n        </WidgetBtn>\r\n      </WidgetCreateContainer>\r\n      <HomeContainer>\r\n        {widget.map(w => (\r\n          <Widget key={w.id}>\r\n            {w.name}\r\n            <WidgetBtns>\r\n              <WidgetBtn onClick={() => deleteWidget(w.id)}>Delete</WidgetBtn> <WidgetBtn onClick={() => dublicateWidget(w.id)}>Dublicate</WidgetBtn> <WidgetBtn>Edit</WidgetBtn>\r\n            </WidgetBtns>\r\n          </Widget>\r\n        ))}\r\n      </HomeContainer>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home\r\n\r\nconst HomeContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  gap: 1em;\r\n  margin-top: 15px;\r\n  padding-bottom: 30px;\r\n`\r\n\r\nconst Widget = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 45%;\r\n  padding: 20px;\r\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.6);\r\n  border-radius: 10px;\r\n  color: #202c39;\r\n`\r\n\r\nconst WidgetBtn = styled.button`\r\n  background-color: #202c39;\r\n  color: #fff;\r\n  font-size: 16px;\r\n  padding: 10px;\r\n  text-align: center;\r\n  border-radius: 6px;\r\n  border: none;\r\n  margin-right: 5px;\r\n`\r\n\r\nconst WidgetCreateContainer = styled.div`\r\n  display: flex;\r\n  margin-top: 15px;\r\n  align-items: center;\r\n`\r\n\r\nconst WidgetInput = styled.input`\r\n  border: none;\r\n  outline: none;\r\n  color: #202c39;\r\n  margin-right: 15px;\r\n  border-bottom: 1px solid #202c39;\r\n  padding: 5px;\r\n  &:focus {\r\n    border-bottom: 1px solid #6f8eae;\r\n  }\r\n`\r\nconst WidgetBtns = styled.div`\r\n  display: flex;\r\n  margin-left: auto;\r\n  align-items: center;\r\n`\r\n","import React, { useEffect } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { useActions } from '../../hooks/useActions'\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector'\r\n\r\nconst Store = () => {\r\n  const { getUserInfo } = useActions()\r\n  const { user } = useTypedSelector(state => state.auth)\r\n\r\n  useEffect(() => {\r\n    getUserInfo()\r\n  }, [])\r\n\r\n  return (\r\n    <StoreContainer>\r\n      {user.stores\r\n        .filter(store => store.is_selected)\r\n        .map(store => (\r\n          <StoreCard key={store.id}>\r\n            <StoreCardItem>Name: {store.name}</StoreCardItem>\r\n            <StoreCardItem>URL: {store.url}</StoreCardItem>\r\n            <StoreCardItem>Tags: {store.custom_tags}</StoreCardItem>\r\n            <StoreCardItem>Monthly views: {store.monthly_views}</StoreCardItem>\r\n            <StoreCardItem>Monthly visitors: {store.monthly_visitors}</StoreCardItem>\r\n          </StoreCard>\r\n        ))}\r\n    </StoreContainer>\r\n  )\r\n}\r\n\r\nexport default Store\r\n\r\nconst StoreContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-top: 15px;\r\n`\r\n\r\nconst StoreCard = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 20px;\r\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.6);\r\n  border-radius: 10px;\r\n`\r\n\r\nconst StoreCardItem = styled.div`\r\n  color: #202c39;\r\n`\r\n","import React, { useEffect } from 'react'\nimport styled from 'styled-components'\nimport { Switch, Route } from 'react-router-dom'\n\nimport Header from './components/Header/Header'\nimport Loader from './components/Loader/Loader'\nimport Login from './pages/Login/Login'\nimport Profile from './pages/Profile/Profile'\nimport Home from './pages/Home/Home'\nimport Store from './pages/Store/Store'\nimport { useActions } from './hooks/useActions'\nimport { useTypedSelector } from './hooks/useTypedSelector'\nimport { IUser } from './models/IUser'\n\nconst App = () => {\n  const { isAuth } = useTypedSelector(state => state.auth)\n  const { isLoading, error } = useTypedSelector(state => state.app)\n  const { setAuth, setUser } = useActions()\n\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      setUser({ username: localStorage.getItem('username') || '' } as IUser)\n      setAuth(true)\n    }\n  }, [])\n\n  return (\n    <>\n      {error && alert(error)}\n      {isLoading && <Loader />}\n      {isAuth ? (\n        <>\n          <Header />\n          <Container>\n            <Switch></Switch>\n            <Route path=\"/profile\" exact>\n              <Profile />\n            </Route>\n            <Route path=\"/store\" exact>\n              <Store />\n            </Route>\n            <Route path=\"/\" exact>\n              <Home />\n            </Route>\n          </Container>\n        </>\n      ) : (\n        <Container>\n          <Login />\n        </Container>\n      )}\n    </>\n  )\n}\n\nexport default App\n\nconst Container = styled.div`\n  max-width: 1300px;\n  margin: 0 auto;\n`\n","import { IUser } from '../../../models/IUser'\r\nimport { AuthAction, AuthActionsTypes, AuthState } from './types'\r\n\r\nconst initialState: AuthState = {\r\n  isAuth: false,\r\n  user: {} as IUser,\r\n}\r\n\r\nexport const authReducer = (state = initialState, action: AuthAction): AuthState => {\r\n  switch (action.type) {\r\n    case AuthActionsTypes.SET_USER:\r\n      return { ...state, user: action.payload }\r\n    case AuthActionsTypes.SET_AUTH:\r\n      return { ...state, isAuth: action.payload }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { IWidget } from '../../../models/IWidget'\r\nimport { WidgetAction, WidgetState, WidgetActionsTypes } from './types'\r\n\r\nconst initialState: WidgetState = {\r\n  widget: [] as Array<IWidget>,\r\n}\r\n\r\nexport const widgetReducer = (state = initialState, action: WidgetAction): WidgetState => {\r\n  switch (action.type) {\r\n    case WidgetActionsTypes.SET_WIDGET:\r\n      return { ...state, widget: [...action.payload] }\r\n    case WidgetActionsTypes.CREATE_WIDGET:\r\n      return { ...state, widget: [...state.widget, action.payload] }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { AppAction, AppActionsTypes, AppState } from './types'\r\n\r\nconst initialState: AppState = {\r\n  error: '',\r\n  isLoading: false,\r\n}\r\n\r\nexport const appReducer = (state = initialState, action: AppAction): AppState => {\r\n  switch (action.type) {\r\n    case AppActionsTypes.SET_LOADING:\r\n      return { ...state, isLoading: action.payload }\r\n    case AppActionsTypes.SET_ERROR:\r\n      return { ...state, error: action.payload }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { applyMiddleware, combineReducers, createStore } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nimport { authReducer } from './reducers/auth/auth'\r\nimport { widgetReducer } from './reducers/widget/widget'\r\nimport { appReducer } from './reducers/app/app'\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  widget: widgetReducer,\r\n  app: appReducer,\r\n})\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport App from './App'\nimport { store } from './redux/store'\n\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}